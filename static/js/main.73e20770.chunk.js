(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{250:function(e,t,a){e.exports=a.p+"static/media/wind.02315525.svg"},251:function(e,t,a){e.exports=a.p+"static/media/humidity.48f2ef02.svg"},252:function(e,t,a){e.exports=a.p+"static/media/thermometer.e9ba701f.svg"},294:function(e,t,a){e.exports=a(607)},303:function(e,t,a){},607:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),i=a.n(c),o=a(18),l=a(255),s=a(639),m=(a(303),a(637)),u=a(24),d=Object(u.a)(),p=a(630),f=a(644),h=a(631),g=a(44),b=a(30),E=a(20),v=Object(b.b)("api/callBegan"),x=(Object(b.b)("api/callSuccess"),Object(b.b)("api/callFailed"),a(55)),y=a.n(x),w=Object(b.c)({name:"forecast",initialState:{list:[],city:{},barchart:[],selected:[],units:"imperial",loading:!1,lastFetch:null,error:null},reducers:{weatherRequested:function(e){e.loading=!0},weatherReceived:function(e,t){e.list=t.payload.list,e.city=t.payload.city,e.lastFetch=Date.now(),e.barchart=[],e.loading=!1},weatherRequestFailed:function(e){e.loading=!1},updateUnits:function(e,t){e.units=t.payload},buildBarchart:function(e,t){e.barchart=t.payload.data},selectForecast:function(e,t){e.selected=t.payload},resetForecast:function(e,t){e.barchart=[],e.selected=[]},setError:function(e,t){e.error=t.payload}}}),j=w.actions,O=j.weatherReceived,k=j.weatherRequested,C=j.weatherRequestFailed,F=j.updateUnits,N=j.buildBarchart,S=j.selectForecast,T=j.resetForecast,z=j.setError,R=w.reducer,I=Object(E.a)((function(e){return e.forecast}),(function(e){return e.list.reduce((function(e,t){var a=y()(t.dt_txt).format("DD");return e[a]=[].concat(Object(g.a)(e[a]||[]),[t]),e}),{})})),M=function(){return function(e,t){var a=t().forecast,n=a.units,r=a.selected,c="metric"===n?"C":"F";if(r){var i=Object(g.a)(r.map((function(e){return{name:"C"===c?"".concat(e.tempC," ").concat(c):"".concat(e.tempF," ").concat(c),temp:"C"===c?e.tempC:e.tempF}})));return e(N({data:i}))}}},D=Object(p.a)((function(e){return Object(f.a)({root:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center"}})})),B=function(){var e=D(),t=Object(o.b)();return Object(n.useEffect)((function(){new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)})).then((function(e){t(function(e){return function(t,a){var n=a().forecast.lastFetch;if(!(y()().diff(y()(n),"minutes")<10)){var r=e.coords,c=r.latitude,i=r.longitude,o="/data/2.5/forecast?lat=".concat(c,"&lon=").concat(i,"&APPID=").concat("75f972b80e26f14fe6c920aa6a85ad57","&cnt=40&units=metric");return t(v({url:o,onStart:k.type,onSuccess:O.type,onError:C.type}))}}}(e))})).catch((function(e){t(z("Please enable location and try again.")),d.push("/locationNotFound")}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(h.a,{color:"secondary"}))},_=a(141),W=a(635),A=a(610),P=a(59),q=Object(p.a)((function(e){return{chart:{width:"100%",maxWidth:e.layout.maxWidth,height:400,margin:e.spacing(3,"auto",2)}}})),U=function(e){var t=e.data,a=q();return t?r.a.createElement("div",{className:a.chart},r.a.createElement(P.d,null,r.a.createElement(P.b,{width:400,height:400,data:t},r.a.createElement(P.e,{fontSize:10,interval:0,dataKey:"name"}),r.a.createElement(P.a,{barSize:80,fill:"#0277bd",yAxisId:"a",dataKey:"temp"},t.map((function(e,t){return r.a.createElement(P.c,{key:"cell-".concat(t)})})))))):null},Y=a(103),J=a(9),K=a(641),L=a(643),$=a(633),H=a(642),G=Object(J.a)((function(e){return{root:{color:e.palette.primary.dark,"&$checked":{color:e.palette.primary.dark}},checked:{}}}))((function(e){return r.a.createElement(K.a,e)})),Q=function(){var e=Object(o.b)(),t=Object(n.useState)("imperial"),a=Object(Y.a)(t,2),c=a[0],i=a[1];return r.a.createElement(H.a,{component:"fieldset"},r.a.createElement(L.a,{row:!0,"aria-label":"forcast",name:"forcast",value:c,onChange:function(t){i(t.target.value),e(F(t.target.value)),e(M())}},r.a.createElement($.a,{value:"metric",control:r.a.createElement(G,null),color:"textSecondary",label:"Celcius"}),r.a.createElement($.a,{value:"imperial",control:r.a.createElement(G,null),color:"textSecondary",label:"Fahrenheit"})))},V=a(245),X=a(246),Z=a(256),ee=a(257),te=a(247),ae=a.n(te),ne=a(632),re=a(248),ce=a.n(re),ie=a(249),oe=a.n(ie),le=Object(p.a)({hideNav:{visibility:"hidden"},nav:{position:"absolute",top:"50%",transform:"translateY(-50%)",zIndex:9,padding:0},next:{left:"100%"},prev:{right:"100%"}});function se(e){var t=e.className,a=e.onClick,n=le(),c=t.includes("slick-disabled")?"".concat(n.hideNav," ").concat(n.nav," ").concat(n.next):"".concat(n.next," ").concat(n.nav);return r.a.createElement(ne.a,{className:c,"aria-label":"next",onClick:a},r.a.createElement(ce.a,{fontSize:"large"}))}function me(e){var t=e.className,a=e.onClick,n=le(),c=t.includes("slick-disabled")?"".concat(n.hideNav," ").concat(n.nav," ").concat(n.prev):"".concat(n.prev," ").concat(n.nav);return r.a.createElement(ne.a,{className:c,"aria-label":"prev",onClick:a},r.a.createElement(oe.a,{fontSize:"large"}))}var ue=function(e){Object(ee.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"render",value:function(){var e=this.props.sliderChange,t={dots:!1,infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,beforeChange:function(t){return e(t)},nextArrow:r.a.createElement(se,null),prevArrow:r.a.createElement(me,null),responsive:[{breakpoint:900,settings:{slidesToShow:2,slidesToScroll:1,initialSlide:0,dots:!0,arrows:!1}},{breakpoint:767,settings:{slidesToShow:1,dots:!0,arrows:!1}}]};return r.a.createElement(ae.a,t,this.props.children)}}]),a}(n.Component),de=a(646),pe=a(634),fe=a(647),he=a(640),ge=a(250),be=a.n(ge),Ee=a(251),ve=a.n(Ee),xe=a(252),ye=a.n(xe),we=Object(p.a)((function(e){return{item:{padding:e.spacing(1),boxSizing:"border-box"},weatherIcon:{width:64,height:64},icon:{width:24,height:24,marginRight:e.spacing(1)},cardFooterText:{fontSize:e.typography.fontSize},card:{background:"linear-gradient(45deg, #0277bd 30%, #4fc3f7 90%)",color:"white"},active:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},content:{"&:last-child":{paddingBottom:e.spacing(2)}},temp:{marginTop:e.spacing(1),marginBottom:e.spacing(2)},info:{textTransform:"capitalize",marginBottom:e.spacing(4),fontSize:12}}})),je=function(e){var t=e.forecast,a=e.index,n=e.sliderChange,c=e.metric,i=e.selected,o=we(),l=t.tempC,s=t.tempCMax,m=t.tempCMin,u=t.tempF,d=t.tempFMax,p=t.tempFMin,f=t.humidity,h=t.date,g=t.description,b=t.icon,E=t.wind;return r.a.createElement("div",{className:o.item},r.a.createElement(de.a,{className:"".concat(a===i?o.active:o.card),onClick:function(){return n(a)}},r.a.createElement(pe.a,{className:o.content},r.a.createElement(W.a,{container:!0,spacing:3},r.a.createElement(W.a,{item:!0,xs:8,sm:!0,container:!0},r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(A.a,{className:o.date},h)),r.a.createElement(W.a,{item:!0,xs:12},r.a.createElement(A.a,{className:o.temp,variant:"h5",component:"h2"},"imperial"===c?"".concat(u," \xb0F"):"".concat(l," \xb0C"))),r.a.createElement(A.a,{className:o.info},g)),r.a.createElement(W.a,{item:!0},r.a.createElement(fe.a,{alt:g,className:o.weatherIcon,src:"".concat("https://openweathermap.org/","/img/wn/").concat(b,"@2x.png")}))),r.a.createElement(W.a,{item:!0,sm:!0,container:!0},r.a.createElement(W.a,{item:!0,xs:4},r.a.createElement(he.a,{display:"flex",flexDirection:"row",alignItems:"center"},r.a.createElement(fe.a,{alt:g,className:o.icon,src:ye.a}),r.a.createElement(A.a,{className:o.cardFooterText},"imperial"===c?"".concat(d," / ").concat(p):"".concat(s," / ").concat(m)))),r.a.createElement(W.a,{item:!0,xs:4},r.a.createElement(he.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},r.a.createElement(fe.a,{alt:g,className:o.icon,src:be.a}),r.a.createElement(A.a,{className:o.cardFooterText},E," km/h"))),r.a.createElement(W.a,{item:!0,xs:4},r.a.createElement(he.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},r.a.createElement(fe.a,{alt:"Remy Sharp",className:o.icon,src:ve.a}),r.a.createElement(A.a,{className:o.cardFooterText},f)))))))},Oe=function(e){var t=e.units,a=Object(n.useState)(""),c=Object(Y.a)(a,2),i=c[0],l=c[1],s=Object(o.b)(),m=Object(o.c)(I),u=Object.keys(m),d=r.a.createElement("div",null),p=function(e){l(e),s(S(m[u[e]])),s(M())};return u&&(d=u.map((function(e,a){return r.a.createElement(je,{forecast:m[e][0],key:a,selected:i,index:a,metric:t,sliderChange:p})}))),r.a.createElement(ue,{sliderChange:function(){l(null),s(T())}},d)},ke=Object(p.a)((function(e){return{root:Object(_.a)({maxWidth:e.layout.maxWidth,margin:e.spacing(0,"auto"),padding:e.spacing("1rem",0)},e.breakpoints.up("md"),{paddingLeft:e.spacing(5),paddingRight:e.spacing(5)}),header:{padding:e.spacing(1)},alignRight:Object(_.a)({},e.breakpoints.up("sm"),{textAlign:"right"})}})),Ce=function(){var e=ke(),t=Object(o.c)((function(e){return e.forecast}));return 0===t.list.length&&d.push("/"),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.header},r.a.createElement(W.a,{container:!0},r.a.createElement(W.a,{item:!0,xs:12,sm:6},r.a.createElement(A.a,{variant:"h5",component:"h2",color:"textSecondary"},t.city.name,", ",t.city.country)),r.a.createElement(W.a,{item:!0,xs:12,sm:6,display:"flex",className:e.alignRight},r.a.createElement(Q,null)))),r.a.createElement(Oe,{units:t.units}),r.a.createElement(U,{data:t.barchart}))},Fe=a(636);function Ne(){var e=Object(o.c)((function(e){return e.forecast.error}));return r.a.createElement(he.a,{width:.5,display:"flex",flexDirection:"column",p:2,mx:"auto",textAlign:"center"},r.a.createElement(A.a,{variant:"h4",component:"h2"},e||"Page not found."),r.a.createElement(he.a,{p:2},r.a.createElement(Fe.a,{variant:"contained",color:"primary",onClick:function(){d.push("/")},m:2},"Home")))}var Se=function(){return r.a.createElement(m.b,{history:d},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:B}),r.a.createElement(m.a,{path:"/weatherapp",component:Ce}),r.a.createElement(m.a,{path:"*",component:Ne})))},Te=a(19),ze=Object(Te.c)({forecast:R}),Re=a(148),Ie=a.n(Re),Me=a(253),De=a(254),Be=a.n(De),_e=function(e){return Number(e).toFixed()},We=function(e){var t=e.dispatch;return function(e){return function(){var a=Object(Me.a)(Ie.a.mark((function a(n){var r,c,i,o,l,s,m,u,p;return Ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.type===v.type){a.next=2;break}return a.abrupt("return",e(n));case 2:return r=n.payload,c=r.url,i=r.method,o=r.data,l=r.onStart,s=r.onSuccess,m=r.onError,l&&t({type:l}),e(n),a.prev=5,a.next=8,Be.a.request({baseURL:"https://api.openweathermap.org",url:c,method:i,data:o});case 8:return u=a.sent,a.next=11,Object(g.a)(u.data.list.map((function(e){return{tempC:_e(e.main.temp),tempCMax:_e(e.main.temp_max),tempCMin:_e(e.main.temp_min),tempF:_e(1.8*e.main.temp+32),tempFMax:_e(1.8*e.main.temp_max+32),tempFMin:_e(1.8*e.main.temp_min+32),humidity:e.main.humidity,date:y()(e.dt_txt).format("DD MMM YY"),dt_txt:e.dt_txt,dt:e.dt,description:e.weather[0].description,icon:e.weather[0].icon,wind:_e(3600*e.wind.speed/1e3)}})));case 11:p=a.sent,s&&(t({type:s,payload:{list:p,city:u.data.city}}),setTimeout((function(){d.push("/weatherapp")}),500)),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(5),m&&t({type:m,payload:a.t0.message});case 18:case"end":return a.stop()}}),a,null,[[5,15]])})));return function(e){return a.apply(this,arguments)}}()}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=a(638),Pe=Object(b.a)({reducer:ze,middleware:[].concat(Object(g.a)(Object(b.d)()),[We])}),qe=Object(l.a)({palette:{primary:{light:Ae.a[600],main:Ae.a[900],dark:Ae.a[800],contrastText:"#fff"}},typography:{fontSize:12},zIndex:{arrow:9},layout:{maxWidth:992}});i.a.render(r.a.createElement(o.a,{store:Pe},r.a.createElement(s.a,{theme:qe},r.a.createElement(Se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[294,1,2]]]);
//# sourceMappingURL=main.73e20770.chunk.js.map