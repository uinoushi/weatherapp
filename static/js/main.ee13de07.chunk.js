(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{270:function(e,t,a){e.exports=a(582)},279:function(e,t,a){},582:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(20),o=a.n(c),i=a(21),l=(a(279),a(235)),s=a(605),u=a(614),m=a(608),d=a(45),p=a.n(d),f=a(61),b=a(22),h=a(17),v=Object(b.b)("api/callBegan"),E=Object(b.b)("api/callSuccess"),g=Object(b.b)("api/callFailed"),y=(Object(b.b)("api/generateDayForcast"),Object(b.c)({name:"forecast",initialState:{list:[],barchart:[],loading:!1,lastFetch:null},reducers:{forcastRequested:function(e){e.loading=!0},forcastReceived:function(e,t){e.list=t.payload.list,e.barchart=[],e.loading=!1,e.lastFetch=Date.now()},forcastRequestFailed:function(e){e.loading=!1},generateDayForcast:function(e,t){e.barchart=t.payload.datas}}})),j=y.actions,O=j.forcastReceived,k=j.forcastRequested,w=j.forcastRequestFailed,x=j.generateDayForcast,S=y.reducer,F=function(e){return function(t,a){var n="/data/2.5/forecast?q=Munich,de&APPID=75f972b80e26f14fe6c920aa6a85ad57&cnt=40&units=".concat(e),r=a().forecasts.lastFetch;p()().diff(p()(r),"minutes");return t(v({url:n,onStart:k.type,onSuccess:O.type,onError:w.type}))}},C=Object(h.a)((function(e){return e.forecasts}),(function(e){return e.list.reduce((function(e,t){var a=p()(t.dt_txt).format("DD");return e[a]=[].concat(Object(f.a)(e[a]||[]),[t]),e}),{})})),N=a(615),D=a(607),R=a(583),q=a(217),T=a(218),z=a(234),A=a(236),I=a(219),M=a.n(I),W=a(610),B=a(220),H=a.n(B),J=a(221),K=a.n(J),L=Object(s.a)({next:{position:"absolute",right:0,top:0},slickHide:{visibility:"hidden"}});function P(e){var t=e.className,a=e.onClick,n=L();return r.a.createElement(W.a,{className:"".concat(n.next," \n      ").concat(t.includes("slick-disabled")?n.slickHide:""),"aria-label":"next",onClick:a},r.a.createElement(H.a,{fontSize:"large"}))}function Y(e){var t=e.className,a=e.onClick,n=L();return r.a.createElement(W.a,{className:t.includes("slick-disabled")&&n.slickHide,"aria-label":"prev",onClick:a},r.a.createElement(K.a,{fontSize:"large"}))}var _=function(e){Object(A.a)(a,e);var t=Object(z.a)(a);function a(){return Object(q.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){var e={dots:!1,infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,focusOnSelect:!0,nextArrow:r.a.createElement(P,null),prevArrow:r.a.createElement(Y,null),responsive:[{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:0,dots:!0}}]};return r.a.createElement(M.a,e,this.props.children)}}]),a}(n.Component),U=Object(s.a)({root:{maxWidth:992,margin:"0 auto",padding:"2rem 10px"},pad:{padding:"10px",boxSizing:"border-box"},title:{fontSize:14},pos:{marginTop:12}}),$=function(e){var t=e.metric,a=Object(i.b)(),n=U(),c=Object(i.c)(C);return r.a.createElement("div",{className:n.root},r.a.createElement(_,null,Object.keys(c).map((function(e){return r.a.createElement("div",{className:n.pad,key:c[e][0].dt},r.a.createElement(N.a,{onClick:function(){return a(function(e,t){return function(a){var n="metric"===t?"C":"F",r=Object(f.a)(e.map((function(e){return{name:e.main.temp+n,temp:e.main.temp}})));return a(x({datas:r}))}}(c[e],t))}},r.a.createElement(D.a,null,r.a.createElement(R.a,{variant:"h5",component:"h2"},"Temp:"," ".concat(c[e][0].main.temp," \xb0").concat("metric"===t?"C":"F")),r.a.createElement(R.a,{className:n.pos,color:"textSecondary"},d(c[e][0].dt_txt).format("DD MMM YY")))))}))))},G=a(49),Q=function(){var e=Object(i.c)((function(e){return e.forecasts.barchart}));return r.a.createElement("div",{className:"line-chart-wrapper",style:{width:"100%",maxWidth:990,height:"400px",margin:"0 auto"}},r.a.createElement(G.d,null,r.a.createElement(G.b,{width:400,height:400,data:e},r.a.createElement(G.e,{dataKey:"name"}),r.a.createElement(G.a,{fill:"skyblue",yAxisId:"a",dataKey:"temp"},e.map((function(e,t){return r.a.createElement(G.c,{key:"cell-".concat(t)})}))))))},V=a(611),X=a(613),Z=a(609),ee=a(612),te=Object(s.a)((function(e){return Object(u.a)({root:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center","& > * + *":{marginLeft:e.spacing(2)}},center:{display:"flex",justifyContent:"center"}})}));var ae=function(){var e=Object(n.useState)("imperial"),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(i.b)(),s=te(),u=Object(i.c)((function(e){return e.forecasts}));return Object(n.useEffect)((function(){o(F(a))}),[]),r.a.createElement(r.a.Fragment,null,u.loading?r.a.createElement("div",{className:s.root},r.a.createElement(m.a,{color:"secondary"})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:s.center},r.a.createElement(ee.a,{component:"fieldset"},r.a.createElement(X.a,{row:!0,"aria-label":"forcast",name:"forcast",value:a,onChange:function(e){c(e.target.value),o(F(e.target.value))}},r.a.createElement(Z.a,{value:"metric",control:r.a.createElement(V.a,null),label:"Celcius"}),r.a.createElement(Z.a,{value:"imperial",control:r.a.createElement(V.a,null),label:"Fahrenheit"})))),r.a.createElement($,{metric:a}),r.a.createElement(Q,null)))},ne=a(16),re=Object(ne.c)({forecasts:S}),ce=a(132),oe=a.n(ce),ie=a(232),le=a(233),se=a.n(le),ue=function(e){var t=e.dispatch;return function(e){return function(){var a=Object(ie.a)(oe.a.mark((function a(n){var r,c,o,i,l,s,u,m;return oe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.type===v.type){a.next=2;break}return a.abrupt("return",e(n));case 2:return r=n.payload,c=r.url,o=r.method,i=r.data,l=r.onStart,s=r.onSuccess,u=r.onError,l&&t({type:l}),e(n),a.prev=5,a.next=8,se.a.request({baseURL:"https://api.openweathermap.org",url:c,method:o,data:i});case 8:m=a.sent,t(E(m.data)),s&&t({type:s,payload:m.data}),a.next=17;break;case 13:a.prev=13,a.t0=a.catch(5),t(g(a.t0.message)),u&&t({type:u,payload:a.t0.message});case 17:case"end":return a.stop()}}),a,null,[[5,13]])})));return function(e){return a.apply(this,arguments)}}()}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var me=Object(b.a)({reducer:re,middleware:[].concat(Object(f.a)(Object(b.d)()),[ue])});o.a.render(r.a.createElement(i.a,{store:me},r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[270,1,2]]]);
//# sourceMappingURL=main.ee13de07.chunk.js.map