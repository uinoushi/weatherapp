(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{250:function(e,t,a){e.exports=a.p+"static/media/wind.02315525.svg"},251:function(e,t,a){e.exports=a.p+"static/media/humidity.48f2ef02.svg"},252:function(e,t,a){e.exports=a.p+"static/media/thermometer.e9ba701f.svg"},295:function(e,t,a){e.exports=a(608)},304:function(e,t,a){},608:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),o=a.n(c),i=a(16),l=a(255),s=a(644),m=(a(304),a(642)),u=a(24),d=Object(u.a)(),p=a(635),f=a(649),h=a(636),b=a(44),g=a(30),x=a(20),E=Object(g.b)("api/callBegan"),y=(Object(g.b)("api/callSuccess"),Object(g.b)("api/callFailed"),a(91)),v=a.n(y),j=Object(g.c)({name:"forecast",initialState:{list:[],location:{},barchart:[],selected:[],units:"imperial",loading:!1,error:null},reducers:{forcastRequested:function(e){e.loading=!0},forcastReceived:function(e,t){e.list=t.payload.forecast,e.location=t.payload.location,e.barchart=[],e.loading=!1},forcastRequestFailed:function(e){e.loading=!1},updateUnits:function(e,t){e.units=t.payload},generateDayForcast:function(e,t){e.barchart=t.payload.datas},removeForcastsPerDay:function(e){e.barchart=[],e.selected=[]},selectDayForcast:function(e,t){e.selected=t.payload},setError:function(e,t){e.error=t.payload}}}),w=j.actions,O=w.forcastReceived,k=w.forcastRequested,C=w.forcastRequestFailed,N=w.generateDayForcast,S=w.removeForcastsPerDay,F=w.updateUnits,D=w.selectDayForcast,R=w.setError,M=j.reducer,z=Object(x.a)((function(e){return e.forecasts}),(function(e){return e.list.reduce((function(e,t){var a=v()(t.dt_txt).format("DD");return e[a]=[].concat(Object(b.a)(e[a]||[]),[t]),e}),{})})),T=function(){return function(e,t){var a=t().forecasts,n=a.units,r=a.selected,c="metric"===n?"C":"F";if(r){var o=Object(b.a)(r.map((function(e){return{name:"C"===c?"".concat(e.tempC," ").concat(c):"".concat(e.tempF," ").concat(c),temp:"C"===c?e.tempC:e.tempF}})));return e(N({datas:o}))}}},I=Object(p.a)((function(e){return Object(f.a)({root:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center","& > * + *":{marginLeft:e.spacing(2)}}})})),P=function(){var e=I(),t=Object(i.b)();return Object(n.useEffect)((function(){new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)})).then((function(e){t(function(e){return function(t,a){var n=e.coords,r=n.latitude,c=n.longitude,o="/data/2.5/forecast?lat=".concat(r,"&lon=").concat(c,"&APPID=").concat("a7b5e9124a05ed5a82580a4ba6a8d663","&cnt=40&units=metric");return t(E({url:o,onStart:k.type,onSuccess:O.type,onError:C.type}))}}(e))})).catch((function(e){t(R("Please enable location and try again.")),d.push("/locationNotFound")}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(h.a,{color:"secondary"}))},_=a(141),A=a(640),B=a(611),q=a(59),H=Object(p.a)((function(e){return{chart:{width:"100%",maxWidth:992,height:400,margin:"28px auto 12px"}}})),W=function(){var e=H(),t=Object(i.c)((function(e){return e.forecasts.barchart}));return r.a.createElement("div",{className:e.chart},r.a.createElement(q.d,null,r.a.createElement(q.b,{width:400,height:400,data:t},r.a.createElement(q.e,{fontSize:10,interval:0,dataKey:"name"}),r.a.createElement(q.a,{barSize:80,fill:"#0277bd",yAxisId:"a",dataKey:"temp"},t.map((function(e,t){return r.a.createElement(q.c,{key:"cell-".concat(t)})}))))))},U=a(103),Y=a(9),J=a(646),K=a(648),L=a(638),$=a(647),G=Object(Y.a)((function(e){return{root:{color:e.palette.primary.dark,"&$checked":{color:e.palette.primary.dark}},checked:{}}}))((function(e){return r.a.createElement(J.a,e)})),Q=function(){var e=Object(i.b)(),t=Object(n.useState)("imperial"),a=Object(U.a)(t,2),c=a[0],o=a[1];return r.a.createElement($.a,{component:"fieldset"},r.a.createElement(K.a,{row:!0,"aria-label":"forcast",name:"forcast",value:c,onChange:function(t){o(t.target.value),e(F(t.target.value)),e(T())}},r.a.createElement(L.a,{value:"metric",control:r.a.createElement(G,null),color:"textSecondary",label:"Celcius"}),r.a.createElement(L.a,{value:"imperial",control:r.a.createElement(G,null),color:"textSecondary",label:"Fahrenheit"})))},V=a(245),X=a(246),Z=a(256),ee=a(257),te=a(247),ae=a.n(te),ne=a(637),re=a(248),ce=a.n(re),oe=a(249),ie=a.n(oe),le=Object(p.a)({slickHide:{visibility:"hidden"},nav:{position:"absolute",top:"50%",zIndex:9,padding:0,transform:"translateY(-17px)"},next:{left:"100%"},prev:{right:"100%"}});function se(e){var t=e.className,a=e.onClick,n=le(),c=t.includes("slick-disabled")?"".concat(n.slickHide," ").concat(n.nav,"  ").concat(n.next):"".concat(n.next," ").concat(n.nav);return r.a.createElement(ne.a,{className:c,"aria-label":"next",onClick:a},r.a.createElement(ce.a,{fontSize:"large"}))}function me(e){var t=e.className,a=e.onClick,n=le(),c=t.includes("slick-disabled")?"".concat(n.slickHide," ").concat(n.nav,"  ").concat(n.prev):"".concat(n.prev," ").concat(n.nav);return r.a.createElement(ne.a,{className:c,"aria-label":"prev",onClick:a},r.a.createElement(ie.a,{fontSize:"large"}))}var ue=function(e){Object(ee.a)(a,e);var t=Object(Z.a)(a);function a(){return Object(V.a)(this,a),t.apply(this,arguments)}return Object(X.a)(a,[{key:"render",value:function(){var e=this.props.sliderChange,t={dots:!1,infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,beforeChange:function(t){return e(t)},nextArrow:r.a.createElement(se,null),prevArrow:r.a.createElement(me,null),responsive:[{breakpoint:900,settings:{slidesToShow:2,slidesToScroll:1,initialSlide:0,dots:!0,arrows:!1}},{breakpoint:767,settings:{slidesToShow:1,dots:!0,arrows:!1}}]};return r.a.createElement(ae.a,t,this.props.children)}}]),a}(n.Component),de=a(651),pe=a(639),fe=a(652),he=a(645),be=a(250),ge=a.n(be),xe=a(251),Ee=a.n(xe),ye=a(252),ve=a.n(ye),je=Object(p.a)((function(e){return{pad:{padding:"10px",boxSizing:"border-box"},selected:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},title:{fontSize:14},temp:{marginTop:4,marginBottom:12,color:"white"},info:{textTransform:"capitalize",marginBottom:30,fontSize:13,color:"white"},micon:{width:64,height:64},icon:{width:24,height:24,marginRight:6},content:{"&:last-child":{paddingBottom:16}},footer:{fontSize:12,color:"white"},card:{backgroundColor:e.palette.primary.light},date:{color:"white"}}})),we=function(e){var t=e.forecast,a=e.index,n=e.sliderChange,c=e.metric,o=e.selected,i=je(),l=t.tempC,s=t.tempCMax,m=t.tempCMin,u=t.tempF,d=t.tempFMax,p=t.tempFMin,f=t.humidity,h=t.date,b=t.description,g=t.icon,x=t.wind;return r.a.createElement("div",{className:i.pad},r.a.createElement(de.a,{className:"".concat(a===o?i.selected:i.card),onClick:function(){return n(a)}},r.a.createElement(pe.a,{className:i.content},r.a.createElement(A.a,{container:!0,spacing:3},r.a.createElement(A.a,{item:!0,xs:8,sm:!0,container:!0},r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(B.a,{className:i.date},h)),r.a.createElement(A.a,{item:!0,xs:12},r.a.createElement(B.a,{className:i.temp,variant:"h5",component:"h2"},"imperial"===c?"".concat(u," \xb0F"):"".concat(l," \xb0C"))),r.a.createElement(B.a,{className:i.info,color:"textSecondary"},b)),r.a.createElement(A.a,{item:!0},r.a.createElement(fe.a,{alt:"Remy Sharp",className:i.micon,src:"http://openweathermap.org/img/wn/".concat(g,"@2x.png")}))),r.a.createElement(A.a,{item:!0,sm:!0,container:!0},r.a.createElement(A.a,{item:!0,xs:4},r.a.createElement(he.a,{display:"flex",flexDirection:"row",alignItems:"center"},r.a.createElement(fe.a,{alt:"Remy Sharp",className:i.icon,src:ve.a}),r.a.createElement(B.a,{color:"textSecondary",className:i.footer},"imperial"===c?"".concat(d," / ").concat(p):"".concat(s," / ").concat(m)))),r.a.createElement(A.a,{item:!0,xs:4,className:i.footer},r.a.createElement(he.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},r.a.createElement(fe.a,{alt:"Remy Sharp",className:i.icon,src:ge.a}),r.a.createElement(B.a,{color:"textSecondary",className:i.footer},x," km/h"))),r.a.createElement(A.a,{item:!0,xs:4,className:i.footer},r.a.createElement(he.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},r.a.createElement(fe.a,{alt:"Remy Sharp",className:i.icon,src:Ee.a}),r.a.createElement(B.a,{className:i.footer},f)))))))},Oe=function(){var e=Object(n.useState)(""),t=Object(U.a)(e,2),a=t[0],c=t[1],o=Object(i.b)(),l=Object(i.c)(z),s=Object(i.c)((function(e){return e.forecasts.units})),m=Object.keys(l),u=r.a.createElement("div",null),d=function(e){c(e),o(D(l[m[e]])),o(T())};return m&&(u=m.map((function(e,t){return r.a.createElement(we,{forecast:l[e][0],key:t,selected:a,index:t,metric:s,sliderChange:d})}))),r.a.createElement(ue,{sliderChange:function(){c(null),o(S())}},u)},ke=Object(p.a)((function(e){return{root:Object(_.a)({maxWidth:992,margin:"0 auto",padding:"1rem 0"},e.breakpoints.up("md"),{padding:"1rem 45px"}),header:{padding:"10px"},alignRight:Object(_.a)({},e.breakpoints.up("sm"),{textAlign:"right"})}})),Ce=function(){var e=ke(),t=Object(i.c)((function(e){return e.forecasts}));return 0===t.list.length&&d.push("/"),r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.header},r.a.createElement(A.a,{container:!0},r.a.createElement(A.a,{item:!0,xs:12,sm:6},r.a.createElement(B.a,{variant:"h5",component:"h2",color:"textSecondary"},t.location.name,", ",t.location.country)),r.a.createElement(A.a,{item:!0,xs:12,sm:6,display:"flex",className:e.alignRight},r.a.createElement(Q,null)))),r.a.createElement(Oe,null),r.a.createElement(W,null))},Ne=a(641);function Se(){var e=Object(i.c)((function(e){return e.forecasts.error}));return r.a.createElement(he.a,{width:.5,display:"flex",flexDirection:"column",p:2,mx:"auto",textAlign:"center"},r.a.createElement(B.a,{variant:"h4",component:"h2"},e||"Page not found."),r.a.createElement(he.a,{p:2},r.a.createElement(Ne.a,{variant:"contained",color:"primary",onClick:function(){d.push("/")},m:2},"Home")))}var Fe=function(){return r.a.createElement(m.b,{history:d},r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:P}),r.a.createElement(m.a,{path:"/weatherapp",component:Ce}),r.a.createElement(m.a,{path:"*",component:Se})))},De=a(19),Re=Object(De.c)({forecasts:M}),Me=a(148),ze=a.n(Me),Te=a(253),Ie=a(254),Pe=a.n(Ie),_e=function(e){var t=e.dispatch;return function(e){return function(){var a=Object(Te.a)(ze.a.mark((function a(n){var r,c,o,i,l,s,m,u,p;return ze.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.type===E.type){a.next=2;break}return a.abrupt("return",e(n));case 2:return r=n.payload,c=r.url,o=r.method,i=r.data,l=r.onStart,s=r.onSuccess,m=r.onError,l&&t({type:l}),e(n),a.prev=5,a.next=8,Pe.a.request({baseURL:"https://api.openweathermap.org",url:c,method:o,data:i});case 8:return u=a.sent,a.next=11,Object(b.a)(u.data.list.map((function(e){return{tempC:Number(e.main.temp).toFixed(),tempCMax:Number(e.main.temp_max).toFixed(),tempCMin:Number(e.main.temp_min).toFixed(),tempF:Number(1.8*e.main.temp+32).toFixed(),tempFMax:Number(1.8*e.main.temp_max+32).toFixed(),tempFMin:Number(1.8*e.main.temp_min+32).toFixed(),humidity:e.main.humidity,date:y(e.dt_txt).format("DD MMM YY"),dt_txt:e.dt_txt,dt:e.dt,description:e.weather[0].description,icon:e.weather[0].icon,wind:Number(3600*e.wind.speed/1e3).toFixed()}})));case 11:p=a.sent,s&&(t({type:s,payload:{forecast:p,location:u.data.city}}),setTimeout((function(){d.push("/weatherapp")}),500)),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(5),m&&t({type:m,payload:a.t0.message});case 18:case"end":return a.stop()}}),a,null,[[5,15]])})));return function(e){return a.apply(this,arguments)}}()}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=a(643),Be=Object(g.a)({reducer:Re,middleware:[].concat(Object(b.a)(Object(g.d)()),[_e])}),qe=Object(l.a)({palette:{primary:{light:Ae.a[600],main:Ae.a[900],dark:Ae.a[800],contrastText:"#fff"}}});o.a.render(r.a.createElement(i.a,{store:Be},r.a.createElement(s.a,{theme:qe},r.a.createElement(Fe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[295,1,2]]]);
//# sourceMappingURL=main.f416d96a.chunk.js.map