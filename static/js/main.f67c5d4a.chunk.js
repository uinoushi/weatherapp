(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{246:function(e,t,a){e.exports=a.p+"static/media/wind.f435e6d9.svg"},247:function(e,t,a){e.exports=a.p+"static/media/humidity.f7efb53c.svg"},248:function(e,t,a){e.exports=a.p+"static/media/thermometer.10a1d9ca.svg"},291:function(e,t,a){e.exports=a(604)},300:function(e,t,a){},604:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(22),o=a.n(r),i=a(16),l=(a(300),a(638)),s=a(24),m=Object(s.a)(),u=a(630),d=a(643),p=a(631),f=a(44),h=a(30),b=a(20),E=Object(h.b)("api/callBegan"),g=(Object(h.b)("api/callSuccess"),Object(h.b)("api/callFailed"),a(91)),x=a.n(g),y=Object(h.c)({name:"forecast",initialState:{list:[],location:{},barchart:[],selected:[],units:"imperial",loading:!1,error:null},reducers:{forcastRequested:function(e){e.loading=!0},forcastReceived:function(e,t){e.list=t.payload.forecast,e.location=t.payload.location,e.barchart=[],e.loading=!1},forcastRequestFailed:function(e){e.loading=!1},updateUnits:function(e,t){e.units=t.payload},generateDayForcast:function(e,t){e.barchart=t.payload.datas},removeForcastsPerDay:function(e){e.barchart=[],e.selected=[]},selectDayForcast:function(e,t){e.selected=t.payload},setError:function(e,t){e.error=t.payload}}}),v=y.actions,j=v.forcastReceived,w=v.forcastRequested,O=v.forcastRequestFailed,S=v.generateDayForcast,C=v.removeForcastsPerDay,N=v.updateUnits,k=v.selectDayForcast,F=v.setError,D=y.reducer,R=Object(b.a)((function(e){return e.forecasts}),(function(e){return e.list.reduce((function(e,t){var a=x()(t.dt_txt).format("DD");return e[a]=[].concat(Object(f.a)(e[a]||[]),[t]),e}),{})})),M=function(){return function(e,t){var a=t().forecasts,n=a.units,c=a.selected,r="metric"===n?"C":"F";if(c){var o=Object(f.a)(c.map((function(e){return{name:"C"===r?"".concat(e.tempC," ").concat(r):"".concat(e.tempF," ").concat(r),temp:"C"===r?e.tempC:e.tempF}})));return e(S({datas:o}))}}},z=Object(u.a)((function(e){return Object(d.a)({root:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center","& > * + *":{marginLeft:e.spacing(2)}}})})),I=function(){var e=z(),t=Object(i.b)();return Object(n.useEffect)((function(){new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)})).then((function(e){t(function(e){return function(t,a){var n=e.coords,c=n.latitude,r=n.longitude,o="/data/2.5/forecast?lat=".concat(c,"&lon=").concat(r,"&APPID=").concat("a7b5e9124a05ed5a82580a4ba6a8d663","&cnt=40&units=metric");return t(E({url:o,onStart:w.type,onSuccess:j.type,onError:O.type}))}}(e))})).catch((function(e){t(F("Please enable location and try again.")),m.push("/locationNotFound")}))}),[]),c.a.createElement("div",{className:e.root},c.a.createElement(p.a,{color:"secondary"}))},T=a(639),P=a(606),_=a(58),B=function(){var e=Object(i.c)((function(e){return e.forecasts.barchart}));return c.a.createElement("div",{className:"line-chart-wrapper",style:{width:"100%",maxWidth:990,height:"400px",margin:"12px auto"}},c.a.createElement(_.d,null,c.a.createElement(_.b,{width:400,height:400,data:e},c.a.createElement(_.e,{fontSize:10,interval:0,dataKey:"name"}),c.a.createElement(_.a,{barSize:80,fill:"#81d4fa",yAxisId:"a",dataKey:"temp"},e.map((function(e,t){return c.a.createElement(_.c,{key:"cell-".concat(t)})}))))))},q=a(101),A=a(9),H=a(640),W=a(642),L=a(634),U=a(641),Y=a(632),J=Object(A.a)({root:{color:Y.a[900],"&$checked":{color:Y.a[900]}},checked:{}})((function(e){return c.a.createElement(H.a,Object.assign({color:"default"},e))})),K=function(){var e=Object(i.b)(),t=Object(n.useState)("imperial"),a=Object(q.a)(t,2),r=a[0],o=a[1];return c.a.createElement(U.a,{component:"fieldset"},c.a.createElement(W.a,{row:!0,"aria-label":"forcast",name:"forcast",value:r,onChange:function(t){o(t.target.value),e(N(t.target.value)),e(M())}},c.a.createElement(L.a,{value:"metric",control:c.a.createElement(J,null),label:"Celcius"}),c.a.createElement(L.a,{value:"imperial",control:c.a.createElement(J,null),label:"Fahrenheit"})))},$=a(241),G=a(242),Q=a(251),V=a(252),X=a(243),Z=a.n(X),ee=a(633),te=a(244),ae=a.n(te),ne=a(245),ce=a.n(ne),re=Object(u.a)({slickHide:{visibility:"hidden"},nav:{position:"absolute",top:"50%",zIndex:9,padding:0,transform:"translateY(-17px)"},next:{left:"100%"},prev:{right:"100%"}});function oe(e){var t=e.className,a=e.onClick,n=re(),r=t.includes("slick-disabled")?"".concat(n.slickHide," ").concat(n.nav,"  ").concat(n.next):"".concat(n.next," ").concat(n.nav);return c.a.createElement(ee.a,{className:r,"aria-label":"next",onClick:a},c.a.createElement(ae.a,{fontSize:"large"}))}function ie(e){var t=e.className,a=e.onClick,n=re(),r=t.includes("slick-disabled")?"".concat(n.slickHide," ").concat(n.nav,"  ").concat(n.prev):"".concat(n.prev," ").concat(n.nav);return c.a.createElement(ee.a,{className:r,"aria-label":"prev",onClick:a},c.a.createElement(ce.a,{fontSize:"large"}))}var le=function(e){Object(V.a)(a,e);var t=Object(Q.a)(a);function a(){return Object($.a)(this,a),t.apply(this,arguments)}return Object(G.a)(a,[{key:"render",value:function(){var e=this.props.sliderChange,t={dots:!1,infinite:!1,speed:500,slidesToShow:3,slidesToScroll:1,beforeChange:function(t){return e(t)},nextArrow:c.a.createElement(oe,null),prevArrow:c.a.createElement(ie,null),responsive:[{breakpoint:900,settings:{slidesToShow:2,slidesToScroll:1,initialSlide:0,dots:!0}},{breakpoint:767,settings:{slidesToShow:1,slidesToScroll:1,initialSlide:0,dots:!0}}]};return c.a.createElement(Z.a,t,this.props.children)}}]),a}(n.Component),se=a(644),me=a(635),ue=a(645),de=a(636),pe=a(246),fe=a.n(pe),he=a(247),be=a.n(he),Ee=a(248),ge=a.n(Ee),xe=Object(u.a)({pad:{padding:"10px",boxSizing:"border-box"},selected:{color:"#01579b",backgroundColor:"#81d4fa"},title:{fontSize:14},temp:{marginTop:4,marginBottom:12},info:{textTransform:"capitalize",marginBottom:30,fontSize:13},micon:{width:64,height:64},icon:{width:24,height:24,marginRight:6},content:{"&:last-child":{paddingBottom:16}},footer:{fontSize:12},card:{backgroundColor:"#b3e5fc"}}),ye=function(e){var t=e.forecast,a=e.index,n=e.sliderChange,r=e.metric,o=e.selected,i=xe(),l=t.tempC,s=t.tempCMax,m=t.tempCMin,u=t.tempF,d=t.tempFMax,p=t.tempFMin,f=t.humidity,h=t.date,b=t.description,E=t.icon,g=t.wind;return c.a.createElement("div",{className:i.pad},c.a.createElement(se.a,{className:"".concat(a===o?i.selected:i.card),onClick:function(){return n(a)}},c.a.createElement(me.a,{className:i.content},c.a.createElement(de.a,{container:!0,spacing:3},c.a.createElement(de.a,{item:!0,xs:8,sm:!0,container:!0},c.a.createElement(de.a,{item:!0,xs:12},c.a.createElement(P.a,{color:"textSecondary"},h)),c.a.createElement(de.a,{item:!0,xs:12},c.a.createElement(P.a,{className:i.temp,variant:"h5",component:"h2"},"imperial"===r?"".concat(u," \xb0F"):"".concat(l," \xb0C"))),c.a.createElement(P.a,{className:i.info,color:"textSecondary"},b)),c.a.createElement(de.a,{item:!0},c.a.createElement(ue.a,{alt:"Remy Sharp",className:i.micon,src:"http://openweathermap.org/img/wn/".concat(E,"@2x.png")}))),c.a.createElement(de.a,{item:!0,sm:!0,container:!0},c.a.createElement(de.a,{item:!0,xs:4},c.a.createElement(T.a,{display:"flex",flexDirection:"row",alignItems:"center"},c.a.createElement(ue.a,{alt:"Remy Sharp",className:i.icon,src:ge.a}),c.a.createElement(P.a,{color:"textSecondary",className:i.footer},"imperial"===r?"".concat(d," / ").concat(p):"".concat(s," / ").concat(m)))),c.a.createElement(de.a,{item:!0,xs:4,className:i.footer},c.a.createElement(T.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},c.a.createElement(ue.a,{alt:"Remy Sharp",className:i.icon,src:fe.a}),c.a.createElement(P.a,{color:"textSecondary",className:i.footer},g," km/h"))),c.a.createElement(de.a,{item:!0,xs:4,className:i.footer},c.a.createElement(T.a,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},c.a.createElement(ue.a,{alt:"Remy Sharp",className:i.icon,src:be.a}),c.a.createElement(P.a,{color:"textSecondary",className:i.footer},f)))))))},ve=function(){var e=Object(n.useState)(""),t=Object(q.a)(e,2),a=t[0],r=t[1],o=Object(i.b)(),l=Object(i.c)(R),s=Object(i.c)((function(e){return e.forecasts.units})),m=Object.keys(l),u=c.a.createElement("div",null),d=function(e){r(e),o(k(l[m[e]])),o(M())};return m&&(u=m.map((function(e,t){return c.a.createElement(ye,{forecast:l[e][0],key:t,selected:a,index:t,metric:s,sliderChange:d})}))),c.a.createElement(le,{sliderChange:function(){r(null),o(C())}},u)},je=Object(u.a)({root:{maxWidth:992,margin:"0 auto",padding:"1rem 45px"},alignRight:{marginLeft:"auto"}}),we=function(){var e=je(),t=Object(i.c)((function(e){return e.forecasts}));return 0===t.list.length&&m.push("/"),c.a.createElement("div",{className:e.root},c.a.createElement(T.a,{display:"flex",p:1},c.a.createElement(T.a,{display:"flex",alignItems:"center"},c.a.createElement(P.a,{variant:"h5",component:"h2",color:"textSecondary"},t.location.name,", ",t.location.country)),c.a.createElement(T.a,{display:"flex",className:e.alignRight},c.a.createElement(K,null))),c.a.createElement(ve,null),c.a.createElement(B,null))},Oe=a(637);function Se(){var e=Object(i.c)((function(e){return e.forecasts.error}));return c.a.createElement(T.a,{width:.5,display:"flex",flexDirection:"column",p:2,mx:"auto",textAlign:"center"},c.a.createElement(P.a,{variant:"h4",component:"h2"},e||"Page not found."),c.a.createElement(T.a,{p:2},c.a.createElement(Oe.a,{variant:"contained",color:"primary",onClick:function(){m.push("/")},m:2},"Home")))}var Ce=function(){return c.a.createElement(l.b,{history:m},c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:I}),c.a.createElement(l.a,{path:"/weatherapp",component:we}),c.a.createElement(l.a,{path:"*",component:Se})))},Ne=a(19),ke=Object(Ne.c)({forecasts:D}),Fe=a(145),De=a.n(Fe),Re=a(249),Me=a(250),ze=a.n(Me),Ie=function(e){var t=e.dispatch;return function(e){return function(){var a=Object(Re.a)(De.a.mark((function a(n){var c,r,o,i,l,s,u,d,p;return De.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n.type===E.type){a.next=2;break}return a.abrupt("return",e(n));case 2:return c=n.payload,r=c.url,o=c.method,i=c.data,l=c.onStart,s=c.onSuccess,u=c.onError,l&&t({type:l}),e(n),a.prev=5,a.next=8,ze.a.request({baseURL:"https://api.openweathermap.org",url:r,method:o,data:i});case 8:return d=a.sent,a.next=11,Object(f.a)(d.data.list.map((function(e){return{tempC:Number(e.main.temp).toFixed(),tempCMax:Number(e.main.temp_max).toFixed(),tempCMin:Number(e.main.temp_min).toFixed(),tempF:Number(1.8*e.main.temp+32).toFixed(),tempFMax:Number(1.8*e.main.temp_max+32).toFixed(),tempFMin:Number(1.8*e.main.temp_min+32).toFixed(),humidity:e.main.humidity,date:g(e.dt_txt).format("DD MMM YY"),dt_txt:e.dt_txt,dt:e.dt,description:e.weather[0].description,icon:e.weather[0].icon,wind:Number(3600*e.wind.speed/1e3).toFixed()}})));case 11:p=a.sent,s&&(t({type:s,payload:{forecast:p,location:d.data.city}}),setTimeout((function(){m.push("/weatherapp")}),500)),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(5),u&&t({type:u,payload:a.t0.message});case 18:case"end":return a.stop()}}),a,null,[[5,15]])})));return function(e){return a.apply(this,arguments)}}()}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Te=Object(h.a)({reducer:ke,middleware:[].concat(Object(f.a)(Object(h.d)()),[Ie])});o.a.render(c.a.createElement(i.a,{store:Te},c.a.createElement(Ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[291,1,2]]]);
//# sourceMappingURL=main.f67c5d4a.chunk.js.map